<!DOCTYPE html>
<html>
<head>
    <title>My Dashboard</title>
    <style>
      .progress-container {
    width: 100%;
    background-color: #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
    height: 20px;
    margin-bottom: 15px;
}

.progress-bar {
    height: 100%;
    background-color: #4caf50;
    text-align: center;
    color: white;
    font-size: 12px;
    font-weight: bold;
    line-height: 20px;
    width: var(--progress);

    
}

    </style>
</head>
<body>

<h1>My Courses</h1>

{% for data in course_data %}
    <hr>
    <h2>{{ data.course.title }}</h2>

    <p>
        Progress: {{ data.completed_lessons|length }} / {{ data.lessons|length }}
    </p>

    <ul>
        {% for lesson in data.lessons %}
            <li>
                {{ lesson.title }}

                <!-- Pass both course_id and lesson_id -->
                <a href="{% url 'courses:lesson_detail' data.course.id lesson.id %}">
                    View Lesson
                </a>

                {% if lesson.id in data.completed_lessons %}
                    âœ… Completed
                {% elif lesson.id == data.next_lesson_id %}
                    <a href="{% url 'courses:mark_lesson_completed' lesson.id %}">
                        Mark as Complete
                    </a>
                {% else %}
                    ðŸ”’ Locked
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% empty %}
    <p>You are not enrolled in any courses.</p>
{% endfor %}

</body>
</html>
