{% load static %}
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="{% static 'courses/lessons.css' %}">
    <title>{{ course.title }}</title>
</head>
<body>

<div class="course-wrapper">
    <h1>{{ course.title }}</h1>

  <ul class="lesson-list">
<ul class="lesson-list">
{% for lesson in lessons %}
    <li class="lesson-item
        {% if lesson.id in completed_lessons %}
            completed
        {% elif lesson.id == next_lesson_id %}
            unlocked
        {% else %}
            locked
        {% endif %}
    ">
        <span class="lesson-title">{{ lesson.title }}</span>

        <div class="lesson-actions">
            {% if lesson.id in completed_lessons %}
                <span class="lesson-status status-completed">âœ… Completed</span>
                <a class="lesson-link"
                   href="{% url 'courses:lesson_detail' course.id lesson.id %}">
                    View
                </a>

            {% elif lesson.id == next_lesson_id %}
                <span class="lesson-status status-unlocked">â–¶ Available</span>
                <a class="lesson-link"
                   href="{% url 'courses:lesson_detail' course.id lesson.id %}">
                    View
                </a>

            {% else %}
                <span class="lesson-status status-locked">ðŸ”’ Locked</span>
            {% endif %}
        </div>
    </li>
{% endfor %}
</ul>

    {% if completed_lessons|length == lessons|length %}
        <div style="margin-top:20px;">
            ðŸŽ“ <strong>All lessons completed!</strong>
        </div>
    {% endif %}
</div>

</body>
</html>
