{% extends "base.html" %}
{% load static %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/course_list.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid px-5">

  <h2 class="dashboard-title">ğŸ“š Available Courses</h2>

  <div class="dashboard-grid">

  {% for course in courses %}
  <div class="dashboard-card">

    <div class="card-body">
      <h3 class="course-title">ğŸ“ {{ course.title }}</h3>
      <p class="course-desc">
        {{ course.description|truncatewords:20 }}
      </p>
    </div>

    <div class="card-actions">
      <a href="{% url 'courses:course_detail' course.id %}" class="btn btn-outline">
        ğŸ‘ View
      </a>

      {% if user.is_authenticated and user.profile.role == 'student' %}
        <a href="{% url 'courses:enroll_course' course.id %}" class="btn btn-primary">
          ğŸ“ Enroll
        </a>
      {% endif %}
    </div>

  </div>
  {% empty %}
    <p>No courses available.</p>
  {% endfor %}

</div>
{% endblock %}